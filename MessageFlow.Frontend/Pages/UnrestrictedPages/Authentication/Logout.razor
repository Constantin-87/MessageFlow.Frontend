@page "/Accounts/Logout"
@inject AuthService AuthService
@inject NavigationManager NavigationManager
@layout Pages.Shared.Layout.PublicSubLayout
@rendermode RenderMode.InteractiveWebAssembly

<PageTitle>Logging Out</PageTitle>

<LoadingIndicator Message="Logging you Out..." IsDark="false" />

@code {
    protected override async Task OnInitializedAsync()
    {
        try
        {
            await AuthService.LogoutAsync();
        }
        catch (Exception)
        {
            Console.WriteLine($"Logout request error.");
        }

        // Redirect to home page after logout
        NavigationManager.NavigateTo("/");
    }
}